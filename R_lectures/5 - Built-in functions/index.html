<!DOCTYPE html>
<html>
<head>
  <title>R programming</title>
  <meta charset="utf-8">
  <meta name="description" content="R programming">
  <meta name="author" content="Manuel A. Bolivar">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/zenburn.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>R programming</h1>
    <h2>Lecture 5. R built-in functions</h2>
    <p>Manuel A. Bolivar<br/></p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <article data-timings="">
    <style>
em {
  font-style: italic
}
strong {
  font-weight: bold;
}
</style>

<h2>Basic fuctions</h2>

<ul>
<li><code>apply()</code>: Family of looping functions</li>
<li><code>length()</code>: Return the number of elements in vector x.</li>
<li><code>paste()</code> or <code>paste0()</code>: Concatenate vectors after converting to character.</li>
<li><code>rep(1,5)</code>: Repeat the number 1 five times</li>
<li><code>seq(1,10,0.4)</code>: Generate a sequence (1 -&gt; 10, spaced by 0.4)</li>
<li><code>sort()</code>: Sort the vector x</li>
<li><code>order()</code>: List sorted element numbers of x</li>
<li><code>summary()</code>: Returns a summary of a given object (e.g., data frame, lm, etc.).</li>
<li><code>table()</code>: Returns a contigency table for each combination of factors.</li>
<li><code>tolower()</code>, <code>toupper()</code>: Convert string to lower/upper case letters.</li>
<li><code>unique()</code>: Remove duplicate entries from vector</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Basic fuctions</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><strong><code>apply()</code>: Family of looping functions</strong></li>
<li><code>length()</code>: Return the number of elements in vector x.</li>
<li><code>paste()</code> or <code>paste0()</code>: Concatenate vectors after converting to character.</li>
<li><code>rep(1,5)</code>: Repeat the number 1 five times</li>
<li><code>seq(1,10,0.4)</code>: Generate a sequence (1 -&gt; 10, spaced by 0.4)</li>
<li><code>sort()</code>: Sort the vector x</li>
<li><code>order()</code>: List sorted element numbers of x</li>
<li><strong><code>summary()</code>: Returns a summary of a given object (e.g., data frame, lm, etc.).</strong></li>
<li><strong><code>table()</code>: Returns a contigency table for each combination of factors.</strong></li>
<li><code>tolower()</code>, <code>toupper()</code>: Convert string to lower/upper case letters.</li>
<li><code>unique()</code>: Remove duplicate entries from vector.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2><code>table()</code></h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>table()</code> uses the cross-classifiying factors to build a contigency table of the count at each combination of factor levels.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2><code>table()</code></h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>table()</code> uses the cross-classifiying factors to build a contigency table of the count at each combination of factor levels.</p>

<pre><code class="r">table(mtcars$cyl)
</code></pre>

<pre><code>## 
##  4  6  8 
## 11  7 14
</code></pre>

<pre><code class="r">table(mtcars$cyl,mtcars$am)
</code></pre>

<pre><code>##    
##      0  1
##   4  3  8
##   6  4  3
##   8 12  2
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark nobackground" id="slide-5" style="background:;">
  <hgroup>
    <h2>apply family functions</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2><code>apply</code> family functions</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><p>Using looping control structure as <code>for</code> and <code>while</code> are not that much efficient by themselfs. However, pre-allocating memory improves their performace.</p></li>
<li><p><code>apply</code> functions use efficiently the resources by doing pre-allocation automatically.</p></li>
<li><p>Using <code>apply</code> functions make easy to parallelize your code.</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2><code>apply</code> family functions</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><code>lapply()</code>: To loop over a list and evaluate on each element.</li>
<li><code>sapply()</code>: the same as <code>lapply</code>, but with the output in a more simpler form.</li>
<li><code>apply</code>: To apply functions over array margins.</li>
<li><code>tapply</code>: To apply a function to each cell of a ranged array. </li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2><code>lapply()</code> function</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">args(lapply)
</code></pre>

<pre><code>## function (X, FUN, ...) 
## NULL
</code></pre>

<p><code>lapply</code> takes three arguments: </p>

<ul>
<li><code>X</code> a list</li>
<li><code>FUN</code> a function</li>
<li><code>...</code> additional arguments of the function <code>FUN</code></li>
</ul>

<p>If <code>X</code> is not a list, it will be coerced to a list using <code>as.list()</code> function.</p>

<p><code>lapply</code> returns a list.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2><code>lapply()</code> example</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">lapply(mtcars,mean) #Returns the mean for each variable in a list
</code></pre>

<pre><code>## $mpg
## [1] 20.09062
## 
## $cyl
## [1] 6.1875
## 
## $disp
## [1] 230.7219
## 
## $hp
## [1] 146.6875
## 
## $drat
## [1] 3.596563
## 
## $wt
## [1] 3.21725
## 
## $qsec
## [1] 17.84875
## 
## $vs
## [1] 0.4375
## 
## $am
## [1] 0.40625
## 
## $gear
## [1] 3.6875
## 
## $carb
## [1] 2.8125
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2><code>sapply()</code> function</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">args(sapply)
</code></pre>

<pre><code>## function (X, FUN, ..., simplify = TRUE, USE.NAMES = TRUE) 
## NULL
</code></pre>

<p><code>sapply</code> takes various arguments: </p>

<ul>
<li><code>X</code> a list</li>
<li><code>FUN</code> a function</li>
<li><code>...</code> additional arguments of the function <code>FUN</code></li>
<li><code>simplify</code> a logical value. If <code>TRUE</code>, should return a simplified version of <code>lapply</code> function results. (e.g, vector, matrix or array) </li>
</ul>

<p>If <code>X</code> is not a list, it will be coerced to a list using <code>as.list()</code> function.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2><code>sapply()</code> example</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">sapply(mtcars,mean) #Returns the mean for each variable in a vector
</code></pre>

<pre><code>##        mpg        cyl       disp         hp       drat         wt 
##  20.090625   6.187500 230.721875 146.687500   3.596563   3.217250 
##       qsec         vs         am       gear       carb 
##  17.848750   0.437500   0.406250   3.687500   2.812500
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>Exercise</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>What is the maximum value in each of the variables in <code>mtcars</code> data set?</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2><code>apply()</code> function</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">args(apply)
</code></pre>

<pre><code>## function (X, MARGIN, FUN, ...) 
## NULL
</code></pre>

<p><code>apply</code> takes four arguments: </p>

<ul>
<li><code>X</code> an array, including matrix</li>
<li><code>MARGIN</code> a vector giving the subscripts which the function will be applied over. e.g., for a matrix 1 indicates rows, 2 indicates columns, c(1, 2) indicates rows and columns. </li>
<li><code>FUN</code> a function</li>
<li><code>...</code> additional arguments of the function <code>FUN</code></li>
</ul>

<p>It is most often used to apply a function to the rows or columns of a matrix.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2><code>apply()</code> example</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">x &lt;- cbind(x1 = 3, x2 = c(4:1, 2:5))
x
</code></pre>

<pre><code>##      x1 x2
## [1,]  3  4
## [2,]  3  3
## [3,]  3  2
## [4,]  3  1
## [5,]  3  2
## [6,]  3  3
## [7,]  3  4
## [8,]  3  5
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2><code>apply()</code> example</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">#col sums
apply(x, 2, sum) 
</code></pre>

<pre><code>## x1 x2 
## 24 24
</code></pre>

<pre><code class="r">#row sums
apply(x, 1, sum) 
</code></pre>

<pre><code>## [1] 7 6 5 4 5 6 7 8
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-16" style="background:;">
  <hgroup>
    <h2><code>tapply()</code> function</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">args(tapply)
</code></pre>

<pre><code>## function (X, INDEX, FUN = NULL, ..., simplify = TRUE) 
## NULL
</code></pre>

<p><code>apply</code> takes four arguments: </p>

<ul>
<li><code>X</code> a vector (typically)</li>
<li><code>INDEX</code> list of one or more factors, each of same length as <code>X</code>. The elements are coerced to factors by <code>as.factor()</code></li>
<li><code>FUN</code> a function</li>
<li><code>...</code> additional arguments of the function <code>FUN</code></li>
</ul>

<p>Useful to summarise information across groups</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2><code>tapply</code> example</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">tapply(mtcars$wt, mtcars$cyl, mean)
</code></pre>

<pre><code>##        4        6        8 
## 2.285727 3.117143 3.999214
</code></pre>

<pre><code class="r">tapply(mtcars$wt, mtcars$cyl, sd)
</code></pre>

<pre><code>##         4         6         8 
## 0.5695637 0.3563455 0.7594047
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2><code>tapply</code> example</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">weightbycyl &lt;- tapply(mtcars$wt, mtcars$cyl, mean)
barplot(weightbycyl)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-14-1.png" alt="plot of chunk unnamed-chunk-14"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2><code>tapply</code> example 2</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">#tapply with multiple factors
tapply(mtcars$wt, list(mtcars$cyl,mtcars$carb), mean)
</code></pre>

<pre><code>##        1     2    3        4    6    8
## 4 2.1510 2.398   NA       NA   NA   NA
## 6 3.3375    NA   NA 3.093750 2.77   NA
## 8     NA 3.560 3.86 4.433167   NA 3.57
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>Exercise</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>Are, in average, cars with automatic transmission (<code>?mtcars</code>) heavier that those with manual transmission?</li>
<li>Compare <code>tapply()</code> and <code>table()</code> functions. How are they similar? How are they different?</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark nobackground" id="slide-21" style="background:;">
  <hgroup>
    <h2>summary function</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-22" style="background:;">
  <hgroup>
    <h2><code>summary()</code></h2>
  </hgroup>
  <article data-timings="">
    <p><code>summary</code> is a generic function used to produce result summaries of the results of various model fitting functions.</p>

<pre><code class="r">data(mtcars) #Load mtcars data to environment
summary(mtcars)
</code></pre>

<pre><code>##       mpg             cyl             disp             hp       
##  Min.   :10.40   Min.   :4.000   Min.   : 71.1   Min.   : 52.0  
##  1st Qu.:15.43   1st Qu.:4.000   1st Qu.:120.8   1st Qu.: 96.5  
##  Median :19.20   Median :6.000   Median :196.3   Median :123.0  
##  Mean   :20.09   Mean   :6.188   Mean   :230.7   Mean   :146.7  
##  3rd Qu.:22.80   3rd Qu.:8.000   3rd Qu.:326.0   3rd Qu.:180.0  
##  Max.   :33.90   Max.   :8.000   Max.   :472.0   Max.   :335.0  
##       drat             wt             qsec             vs        
##  Min.   :2.760   Min.   :1.513   Min.   :14.50   Min.   :0.0000  
##  1st Qu.:3.080   1st Qu.:2.581   1st Qu.:16.89   1st Qu.:0.0000  
##  Median :3.695   Median :3.325   Median :17.71   Median :0.0000  
##  Mean   :3.597   Mean   :3.217   Mean   :17.85   Mean   :0.4375  
##  3rd Qu.:3.920   3rd Qu.:3.610   3rd Qu.:18.90   3rd Qu.:1.0000  
##  Max.   :4.930   Max.   :5.424   Max.   :22.90   Max.   :1.0000  
##        am              gear            carb      
##  Min.   :0.0000   Min.   :3.000   Min.   :1.000  
##  1st Qu.:0.0000   1st Qu.:3.000   1st Qu.:2.000  
##  Median :0.0000   Median :4.000   Median :2.000  
##  Mean   :0.4062   Mean   :3.688   Mean   :2.812  
##  3rd Qu.:1.0000   3rd Qu.:4.000   3rd Qu.:4.000  
##  Max.   :1.0000   Max.   :5.000   Max.   :8.000
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-23" style="background:;">
  <hgroup>
    <h2>Exercises</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>Design a function that receive as argument a numeric vector and returns the descriptive statistics of the vector in a data frame. (<code>mean</code>, <code>sd</code>, <code>median</code>, <code>minimum</code>, and <code>maximum</code>)</li>
<li>Report the descriptive statistics for all the variables in <code>mtcars</code> using only one code line.</li>
<li>Report the descriptive statistics for the weigth variable (<code>wt</code>) group by the transmission type.(<code>?mtcars</code>). Use only one code line.</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-24" style="background:;">
  <hgroup>
    <h2>Homework</h2>
  </hgroup>
  <article data-timings="">
    <p><strong>PENDING</strong></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-25" style="background:;">
  <hgroup>
    <h2>References</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Koduvely, D. H. M. (2015). <em>Learning Bayesian Models with R</em>. Packt Publishing Limited.</li>
<li>Ross, N. (2013). <em>FasteR! HigheR! StrongeR! - A Guide to Speeding Up R Code for Busy People</em>. <a href="http://www.noamross.net/blog/2013/4/25/faster-talk.html">http://www.noamross.net/blog/2013/4/25/faster-talk.html</a></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='NA'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Basic fuctions'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='<code>table()</code>'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='<code>table()</code>'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='apply family functions'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='<code>apply</code> family functions'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='<code>apply</code> family functions'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='<code>lapply()</code> function'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='<code>lapply()</code> example'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='<code>sapply()</code> function'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='<code>sapply()</code> example'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Exercise'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='<code>apply()</code> function'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='<code>apply()</code> example'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='<code>apply()</code> example'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='<code>tapply()</code> function'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='<code>tapply</code> example'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='<code>tapply</code> example'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='<code>tapply</code> example 2'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='Exercise'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='summary function'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='<code>summary()</code>'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='Exercises'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Homework'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='References'>
         25
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>